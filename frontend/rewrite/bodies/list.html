


<h1 class="page-header">Bodies overview</h1>

<div class="row">
	<button type="button" class="btn btn-primary" ng-if="vm.permissions.create_body" ng-click="vm.showBodyModal()">Create new body</button>
	<button type="button" class="btn btn-primary" ng-click="vm.showBulkImportModal()">Bulk import</button>
	<div class="pull-left">
		<label class="checkbox-inline" ng-repeat="type in vm.body_types">
			<input type="checkbox" ng-model="type.filter_active" ng-change="vm.resetData()" />
			{{ type.name }}
		</label>
	</div>
</div>

<div class="row">
	<div class="input-group">
		<span class="input-group-addon"><i class="fa fa-search"></i> Search</span>
		<input type="text" class="form-control" placeholder="Type any keywords" ng-model="vm.query" ng-change="vm.resetData()" />
	</div>
</div>

<hr />

<div infinite-scroll="vm.loadNextPage()" infinite-scroll-disabled="vm.infiniteScroll.block">
	<div ng-repeat="body in vm.infiniteScroll.data" class='animate-infinite-scroll'>
		<bodytile body="body"></bodytile>
	</div>
</div>

<p ng-show="vm.infiniteScroll.data.length === 0 && !vm.infiniteScroll.busy">
  No bodies found that match the current search
</p>
<p ng-show="vm.infiniteScroll.loadingMoreResults">
  Searching...
</p>



<ng-include src="vm.baseUrl + 'rewrite/bodies/edit_body_form.html'"></ng-include>
<ng-include src="vm.baseUrl + 'rewrite/bodies/bulk_import_form.html'"></ng-include>